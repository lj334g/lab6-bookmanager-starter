<h2>Listing Published Books</h2>

<table class="striped">
  <tr>
    <th>Title</th>
    <th>Category</th>
		<th>Year</th>
		<th>Author (first)</th>
		<th>Units Sold</th>
    <th></th>
    <th></th>
  </tr>

<% @books.each do |book| %>
  <tr>
    <td><%= link_to book.title, book_path(book) %></td>
    <td><%= book.category.name %></td>
		<td><%= book.published_date.year %></td>
		<td><%= if book.authors.count > 0 then book.authors.alphabetical.first.name else "None" end %></td>
		<td align="right"><%= number_with_delimiter(book.units_sold) %></td>
    <td>
      <%= link_to 'Edit', edit_book_path(book), class: "waves-effect waves-light btn light-blue" %>
    </td>
    <td>
      <%= link_to 'Destroy', book, data: { confirm: 'Are you sure?' }, method: :delete, class: "waves-effect waves-light btn red" %>
    </td>

  </tr>
<% end %>
</table>
<br />
<!-- Add the pagination using will_paginate gem -->
<span class="paginate">
<%= will_paginate @books, :previous_label => "Previous&nbsp;", :next_label => "&nbsp;Next" %>
</span>

<br />